# 回溯算法

## 什么是回溯算法

回溯和递归是相辅相成的，有递归就会有回溯，回溯通常在递归函数下面（递归结束后，向次级函数回退的过程）

回溯搜索法是一个**纯暴力搜索**，有些问题使用一般暴力搜索可以解决，但是有些问题需要使用回溯

回溯可以看作是一个不知道有多少层`for`循环的暴力搜索

回溯本质上是采用`递归`来嵌套`for`循环，来达到用递归控制循环的嵌套深度

## 解决的问题

- 1、**组合问题**：在一组中找到符合要求的组合（结果在**叶子节点**收集）
- 2、**切割问题**：给字符串切割，符合一定限制（结果在**叶子节点**收集）
- 3、**子集问题**：求数组子集，或添加一定的限制（结果在**子节点**收集）
- 4、**排列问题**：相比组合之上强调顺序
- 5、**棋盘问题**：N皇后、解数独


## 回溯的理解

抽象为树形结构

![[Pasted image 20221207161231.png]]

```python
def back(参数):
	if 终止条件:
		收集结果
		return
	for 集合元素:
		处理节点
		递归函数
		回溯操作
```

```python
def backward():
    
    if (回朔点）：# 这条路走到底的条件。也是递归出口
        保存该结果
        return   
    
    else:
        for route in all_route_set :  逐步选择当前节点下的所有可能route
            
            if 剪枝条件：
                剪枝前的操作
                return   #不继续往下走了，退回上层，换个路再走
            
            else：#当前路径可能是条可行路径
            
                保存当前数据  #向下走之前要记住已经走过这个节点了。例如push当前节点
        
                self.backward() #递归发生，继续向下走一步了。
                
                回朔清理     # 该节点下的所有路径都走完了，清理堆栈，准备下一个递归。例如弹出当前节点
```